{"version":3,"file":"react-final-form.umd.js","sources":["../node_modules/@babel/runtime/helpers/esm/extends.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../src/renderComponent.js","../src/flattenSubscription.js","../src/isReactNative.js","../src/getValue.js","../src/context.js","../src/useForm.js","../src/useField.js","../src/Field.js","../src/useWhenValueChanges.js","../src/useConstant.js","../src/shallowEqual.js","../src/isSyntheticEvent.js","../src/ReactFinalForm.js","../src/useFormState.js","../src/FormSpy.js"],"sourcesContent":["export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","// @flow\nimport * as React from 'react'\nimport type { RenderableProps } from './types'\n\n// shared logic between components that use either render prop,\n// children render function, or component prop\nexport default function renderComponent<T>(\n  props: RenderableProps<T> & T,\n  name: string\n): React.Node {\n  const { render, children, component, ...rest } = props\n  if (component) {\n    return React.createElement(component, { ...rest, children, render })\n  }\n  if (render) {\n    return render(children === undefined ? rest : { ...rest, children }) // inject children back in\n  }\n  if (typeof children !== 'function') {\n    // istanbul ignore next\n    if (process.env.NODE_ENV !== 'production') {\n      console.error(\n        `Warning: Must specify either a render prop, a render function as children, or a component prop to ${name}`\n      )\n    }\n    return null // warning will alert developer to their mistake\n  }\n  return children(rest)\n}\n","// @flow\ntype Subscription = { [string]: boolean }\nexport default function flattenSubscription(\n  subscription: Subscription = {}\n): string {\n  return Object.keys(subscription)\n    .filter(key => subscription[key] === true)\n    .map(key => key)\n    .sort()\n    .join(',')\n}\n","// @flow\nconst isReactNative =\n  typeof window !== 'undefined' &&\n  window.navigator &&\n  window.navigator.product &&\n  window.navigator.product === 'ReactNative'\n\nexport default isReactNative\n","// @flow\nconst getSelectedValues = options => {\n  const result = []\n  if (options) {\n    for (let index = 0; index < options.length; index++) {\n      const option = options[index]\n      if (option.selected) {\n        result.push(option.value)\n      }\n    }\n  }\n  return result\n}\n\nconst getValue = (\n  event: SyntheticInputEvent<*>,\n  currentValue: any,\n  valueProp: any,\n  isReactNative: boolean\n) => {\n  if (\n    !isReactNative &&\n    event.nativeEvent &&\n    (event.nativeEvent: Object).text !== undefined\n  ) {\n    return (event.nativeEvent: Object).text\n  }\n  if (isReactNative && event.nativeEvent) {\n    return (event.nativeEvent: any).text\n  }\n  const detypedEvent: any = event\n  const { target: { type, value, checked } } = detypedEvent\n  switch (type) {\n    case 'checkbox':\n      if (valueProp !== undefined) {\n        // we are maintaining an array, not just a boolean\n        if (checked) {\n          // add value to current array value\n          return Array.isArray(currentValue)\n            ? currentValue.concat(valueProp)\n            : [valueProp]\n        } else {\n          // remove value from current array value\n          if (!Array.isArray(currentValue)) {\n            return currentValue\n          }\n          const index = currentValue.indexOf(valueProp)\n          if (index < 0) {\n            return currentValue\n          } else {\n            return currentValue\n              .slice(0, index)\n              .concat(currentValue.slice(index + 1))\n          }\n        }\n      } else {\n        // it's just a boolean\n        return !!checked\n      }\n    case 'select-multiple':\n      return getSelectedValues((event.target: any).options)\n    default:\n      return value\n  }\n}\n\nexport default getValue\n","// @flow\nimport * as React from 'react'\nimport type { FormApi } from 'final-form'\n\nexport default React.createContext<?FormApi>()\n","// @flow\nimport * as React from 'react'\nimport type { FormApi } from 'final-form'\nimport ReactFinalFormContext from './context'\n\nconst useForm = (componentName?: string): FormApi => {\n  const form: ?FormApi = React.useContext(ReactFinalFormContext)\n  if (!form) {\n    throw new Error(\n      `Warning: ${componentName ||\n        'useForm'} must be used inside of a <Form> component`\n    )\n  }\n  return form\n}\n\nexport default useForm\n","// @flow\nimport * as React from 'react'\nimport { fieldSubscriptionItems } from 'final-form'\nimport flattenSubscription from './flattenSubscription'\nimport type { FieldSubscription, FieldState, FormApi } from 'final-form'\nimport type { UseFieldConfig, FieldInputProps, FieldRenderProps } from './types'\nimport isReactNative from './isReactNative'\nimport getValue from './getValue'\nimport useForm from './useForm'\n\nconst all: FieldSubscription = fieldSubscriptionItems.reduce((result, key) => {\n  result[key] = true\n  return result\n}, {})\n\nconst defaultFormat = (value: ?any, name: string) =>\n  value === undefined ? '' : value\nconst defaultParse = (value: ?any, name: string) =>\n  value === '' ? undefined : value\n\nconst useField = (\n  name: string,\n  {\n    afterSubmit,\n    allowNull,\n    beforeSubmit,\n    component,\n    defaultValue,\n    format = defaultFormat,\n    formatOnBlur,\n    initialValue,\n    isEqual,\n    multiple,\n    parse = defaultParse,\n    subscription = all,\n    type,\n    validate,\n    validateFields,\n    value: _value\n  }: UseFieldConfig = {}\n): FieldRenderProps => {\n  const form: FormApi = useForm('useField')\n\n  // keep ref to most recent copy of validate function\n  const validateRef = React.useRef(validate)\n  React.useEffect(() => {\n    validateRef.current = validate\n  })\n\n  const beforeSubmitRef = React.useRef()\n  const register = (callback: FieldState => void) =>\n    form.registerField(name, callback, subscription, {\n      afterSubmit,\n      beforeSubmit: () => beforeSubmitRef.current && beforeSubmitRef.current(),\n      defaultValue,\n      getValidator: () => validateRef.current,\n      initialValue,\n      isEqual,\n      validateFields\n    })\n\n  const firstRender = React.useRef(true)\n\n  // synchronously register and unregister to query field state for our subscription on first render\n  const [state, setState] = React.useState<FieldState>(\n    (): FieldState => {\n      let initialState: FieldState = {}\n      register(state => {\n        initialState = state\n      })()\n      return initialState\n    }\n  )\n\n  beforeSubmitRef.current = () => {\n    if (format && formatOnBlur) {\n      const formatted = format(state.value, state.name)\n      if (formatted !== state.value) {\n        state.change(formatted)\n      }\n    }\n    return beforeSubmit && beforeSubmit()\n  }\n\n  // In the future, changing subscriptions on the fly should be banned. ⚠️\n  const flattenedSubscription = flattenSubscription(subscription)\n  React.useEffect(\n    () =>\n      register(state => {\n        if (firstRender.current) {\n          firstRender.current = false\n        } else {\n          setState(state)\n        }\n      }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n      name,\n      defaultValue,\n      // If we want to allow inline fat-arrow field-level validation functions, we\n      // cannot reregister field every time validate function !==.\n      // validate,\n      initialValue,\n      isEqual,\n      validateFields,\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      flattenedSubscription\n    ]\n  )\n\n  const handlers = {\n    onBlur: React.useCallback(\n      (event: ?SyntheticFocusEvent<*>) => {\n        state.blur()\n        if (format && formatOnBlur) {\n          state.change(format(state.value, state.name))\n        }\n      },\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      [state.name, state.value, format, formatOnBlur]\n    ),\n    onChange: React.useCallback(\n      (event: SyntheticInputEvent<*> | any) => {\n        // istanbul ignore next\n        if (process.env.NODE_ENV !== 'production' && event && event.target) {\n          const targetType = event.target.type\n          const unknown =\n            ~['checkbox', 'radio', 'select-multiple'].indexOf(targetType) &&\n            !type\n\n          const value: any =\n            targetType === 'select-multiple' ? state.value : _value\n\n          if (unknown) {\n            console.error(\n              `Warning: You must pass \\`type=\"${\n                targetType === 'select-multiple' ? 'select' : targetType\n              }\"\\` prop to your Field(${name}) component.\\n` +\n                `Without it we don't know how to unpack your \\`value\\` prop - ${\n                  Array.isArray(value) ? `[${value}]` : `\"${value}\"`\n                }.`\n            )\n          }\n        }\n\n        const value: any =\n          event && event.target\n            ? getValue(event, state.value, _value, isReactNative)\n            : event\n        state.change(parse ? parse(value, name) : value)\n      },\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      [_value, name, parse, state.change, state.value, type]\n    ),\n    onFocus: React.useCallback((event: ?SyntheticFocusEvent<*>) => {\n      state.focus()\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n  }\n\n  let { blur, change, focus, value, name: ignoreName, ...otherState } = state\n  const meta = {\n    // this is to appease the Flow gods\n    active: otherState.active,\n    data: otherState.data,\n    dirty: otherState.dirty,\n    dirtySinceLastSubmit: otherState.dirtySinceLastSubmit,\n    error: otherState.error,\n    initial: otherState.initial,\n    invalid: otherState.invalid,\n    length: otherState.length,\n    modified: otherState.modified,\n    pristine: otherState.pristine,\n    submitError: otherState.submitError,\n    submitFailed: otherState.submitFailed,\n    submitSucceeded: otherState.submitSucceeded,\n    submitting: otherState.submitting,\n    touched: otherState.touched,\n    valid: otherState.valid,\n    visited: otherState.visited\n  }\n  if (formatOnBlur) {\n    value = defaultFormat(value, name)\n  } else if (format) {\n    value = format(value, name)\n  }\n  if (value === null && !allowNull) {\n    value = ''\n  }\n  const input: FieldInputProps = { name, value, type, ...handlers }\n  if (type === 'checkbox') {\n    if (_value === undefined) {\n      input.checked = !!value\n    } else {\n      input.checked = !!(Array.isArray(value) && ~value.indexOf(_value))\n      input.value = _value\n    }\n  } else if (type === 'radio') {\n    input.checked = value === _value\n    input.value = _value\n  } else if (component === 'select' && multiple) {\n    input.value = input.value || []\n    input.multiple = true\n  }\n\n  const renderProps: FieldRenderProps = { input, meta } // assign to force Flow check\n  return renderProps\n}\n\nexport default useField\n","// @flow\nimport * as React from 'react'\nimport type { FieldProps as Props, FieldRenderProps } from './types'\nimport renderComponent from './renderComponent'\nimport useField from './useField'\n\nconst Field = ({\n  afterSubmit,\n  allowNull,\n  beforeSubmit,\n  children,\n  component,\n  defaultValue,\n  format,\n  formatOnBlur,\n  initialValue,\n  isEqual,\n  multiple,\n  name,\n  parse,\n  subscription,\n  type,\n  validate,\n  validateFields,\n  value,\n  ...rest\n}: Props) => {\n  const field: FieldRenderProps = useField(name, {\n    afterSubmit,\n    allowNull,\n    beforeSubmit,\n    children,\n    component,\n    defaultValue,\n    format,\n    formatOnBlur,\n    initialValue,\n    isEqual,\n    multiple,\n    parse,\n    subscription,\n    type,\n    validate,\n    validateFields,\n    value\n  })\n\n  if (typeof children === 'function') {\n    return (children: Function)({ ...field, ...rest })\n  }\n\n  if (typeof component === 'string') {\n    // ignore meta, combine input with any other props\n    return React.createElement(component, { ...field.input, children, ...rest })\n  }\n  return renderComponent(\n    { ...field, children, component, ...rest },\n    `Field(${name})`\n  )\n}\n\nexport default Field\n","// @flow\nimport React from 'react'\n\nexport default function useWhenValueChanges(\n  value: any,\n  callback: () => void,\n  isEqual: (any, any) => boolean = (a, b) => a === b\n) {\n  const previous = React.useRef(value)\n  React.useEffect(() => {\n    if (!isEqual(value, previous.current)) {\n      callback()\n      previous.current = value\n    }\n  })\n}\n","// @flow\nimport React from 'react'\n\n/**\n * A simple hook to create a constant value that lives for\n * the lifetime of the component.\n *\n * Plagiarized from https://github.com/Andarist/use-constant\n *\n * Do NOT reuse this code unless you know what you're doing.\n * Use Andarist's hook; it's more fault tolerant to things like\n * falsy values.\n *\n * @param {Function} init - A function to generate the value\n */\nexport default function useConstant<T>(init: () => T): T {\n  const ref = React.useRef<?T>()\n  if (!ref.current) {\n    ref.current = init()\n  }\n  return ref.current\n}\n","// @flow\nconst shallowEqual = (a: any, b: any): boolean => {\n  if (a === b) {\n    return true\n  }\n  if (typeof a !== 'object' || !a || typeof b !== 'object' || !b) {\n    return false\n  }\n  var keysA = Object.keys(a)\n  var keysB = Object.keys(b)\n  if (keysA.length !== keysB.length) {\n    return false\n  }\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(b)\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx]\n    if (!bHasOwnProperty(key) || a[key] !== b[key]) {\n      return false\n    }\n  }\n  return true\n}\n\nexport default shallowEqual\n","// @flow\nconst isSyntheticEvent = (candidate: any): boolean =>\n  !!(candidate && typeof candidate.stopPropagation === 'function')\n\nexport default isSyntheticEvent\n","// @flow\nimport * as React from 'react'\nimport {\n  createForm,\n  formSubscriptionItems,\n  version as ffVersion\n} from 'final-form'\nimport type {\n  FormApi,\n  Config,\n  FormSubscription,\n  FormState,\n  Unsubscribe\n} from 'final-form'\nimport type { FormProps as Props } from './types'\nimport renderComponent from './renderComponent'\nimport useWhenValueChanges from './useWhenValueChanges'\nimport useConstant from './useConstant'\nimport shallowEqual from './shallowEqual'\nimport isSyntheticEvent from './isSyntheticEvent'\nimport type { FormRenderProps } from './types.js.flow'\nimport flattenSubscription from './flattenSubscription'\nimport ReactFinalFormContext from './context'\n\nexport const version = '5.1.0'\n\nconst versions = {\n  'final-form': ffVersion,\n  'react-final-form': version\n}\n\nexport const all: FormSubscription = formSubscriptionItems.reduce(\n  (result, key) => {\n    result[key] = true\n    return result\n  },\n  {}\n)\n\nconst ReactFinalForm = ({\n  debug,\n  decorators,\n  destroyOnUnregister,\n  initialValues,\n  initialValuesEqual,\n  keepDirtyOnReinitialize,\n  mutators,\n  onSubmit,\n  subscription = all,\n  validate,\n  validateOnBlur,\n  ...rest\n}: Props) => {\n  const config: Config = {\n    debug,\n    destroyOnUnregister,\n    initialValues,\n    keepDirtyOnReinitialize,\n    mutators,\n    onSubmit,\n    validate,\n    validateOnBlur\n  }\n\n  const form: FormApi = useConstant(() => {\n    const f = createForm(config)\n    f.pauseValidation()\n    return f\n  })\n\n  // synchronously register and unregister to query form state for our subscription on first render\n  const [state, setState] = React.useState<FormState>(\n    (): FormState => {\n      let initialState: FormState = {}\n      form.subscribe(state => {\n        initialState = state\n      }, subscription)()\n      return initialState\n    }\n  )\n\n  // In the future, changing subscriptions on the fly should be banned. ⚠️\n  const flattenedSubscription = flattenSubscription(subscription)\n  React.useEffect(() => {\n    // We have rendered, so all fields are no registered, so we can unpause validation\n    form.isValidationPaused() && form.resumeValidation()\n    const unsubscriptions: Unsubscribe[] = [\n      form.subscribe(s => {\n        if (!shallowEqual(s, state)) {\n          setState(s)\n        }\n      }, subscription),\n      ...(decorators\n        ? decorators.map(decorator =>\n            // this noop ternary is to appease the flow gods\n            // istanbul ignore next\n            decorator(form)\n          )\n        : [])\n    ]\n\n    return () => {\n      unsubscriptions.forEach(unsubscribe => unsubscribe())\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [decorators, flattenedSubscription])\n\n  // warn about decorator changes\n  // istanbul ignore next\n  if (process.env.NODE_ENV !== 'production') {\n    // You're never supposed to use hooks inside a conditional, but in this\n    // case we can be certain that you're not going to be changing your\n    // NODE_ENV between renders, so this is safe.\n\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useWhenValueChanges(\n      decorators,\n      () => {\n        console.error(\n          'Warning: Form decorators should not change from one render to the next as new values will be ignored'\n        )\n      },\n      shallowEqual\n    )\n  }\n\n  // allow updatable config\n  useWhenValueChanges(debug, () => {\n    form.setConfig('debug', debug)\n  })\n  useWhenValueChanges(destroyOnUnregister, () => {\n    form.setConfig('destroyOnUnregister', destroyOnUnregister)\n  })\n  useWhenValueChanges(\n    initialValues,\n    () => {\n      form.setConfig('initialValues', initialValues)\n    },\n    initialValuesEqual || shallowEqual\n  )\n  useWhenValueChanges(keepDirtyOnReinitialize, () => {\n    form.setConfig('keepDirtyOnReinitialize', keepDirtyOnReinitialize)\n  })\n  useWhenValueChanges(mutators, () => {\n    form.setConfig('mutators', mutators)\n  })\n  useWhenValueChanges(onSubmit, () => {\n    form.setConfig('onSubmit', onSubmit)\n  })\n  useWhenValueChanges(validate, () => {\n    form.setConfig('validate', validate)\n  })\n  useWhenValueChanges(validateOnBlur, () => {\n    form.setConfig('validateOnBlur', validateOnBlur)\n  })\n\n  const handleSubmit = (event: ?SyntheticEvent<HTMLFormElement>) => {\n    if (event) {\n      // sometimes not true, e.g. React Native\n      if (typeof event.preventDefault === 'function') {\n        event.preventDefault()\n      }\n      if (typeof event.stopPropagation === 'function') {\n        // prevent any outer forms from receiving the event too\n        event.stopPropagation()\n      }\n    }\n    return form.submit()\n  }\n\n  const renderProps: FormRenderProps = {\n    // assign to force Flow check\n    ...state,\n    form: {\n      ...form,\n      reset: eventOrValues => {\n        if (isSyntheticEvent(eventOrValues)) {\n          // it's a React SyntheticEvent, call reset with no arguments\n          form.reset()\n        } else {\n          form.reset(eventOrValues)\n        }\n      }\n    },\n    handleSubmit\n  }\n  return React.createElement(\n    ReactFinalFormContext.Provider,\n    { value: form },\n    renderComponent(\n      {\n        ...rest,\n        ...renderProps,\n        __versions: versions\n      },\n      'ReactFinalForm'\n    )\n  )\n}\n\nexport default ReactFinalForm\n","// @flow\nimport * as React from 'react'\nimport flattenSubscription from './flattenSubscription'\nimport type { UseFormStateParams } from './types'\nimport type { FormState, FormApi } from 'final-form'\nimport { all } from './ReactFinalForm'\nimport useForm from './useForm'\n\nconst useFormState = ({\n  onChange,\n  subscription = all\n}: UseFormStateParams = {}): FormState => {\n  const form: FormApi = useForm('useFormState')\n  const firstRender = React.useRef(true)\n\n  // synchronously register and unregister to query field state for our subscription on first render\n  const [state, setState] = React.useState<FormState>(\n    (): FormState => {\n      let initialState: FormState = {}\n      form.subscribe(state => {\n        initialState = state\n      }, subscription)()\n      if (onChange) {\n        onChange(initialState)\n      }\n      return initialState\n    }\n  )\n\n  // In the future, changing subscriptions on the fly should be banned. ⚠️\n  const flattenedSubscription = flattenSubscription(subscription)\n  React.useEffect(\n    () =>\n      form.subscribe(newState => {\n        if (firstRender.current) {\n          firstRender.current = false\n        } else {\n          setState(newState)\n          if (onChange) {\n            onChange(newState)\n          }\n        }\n      }, subscription),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [flattenedSubscription]\n  )\n  return state\n}\n\nexport default useFormState\n","// @flow\nimport * as React from 'react'\nimport renderComponent from './renderComponent'\nimport type { FormSpyPropsWithForm as Props, FormSpyRenderProps } from './types'\nimport type { FormApi } from 'final-form'\nimport isSyntheticEvent from './isSyntheticEvent'\nimport useFormState from './useFormState'\nimport ReactFinalFormContext from './context'\n\nconst FormSpy = ({ onChange, subscription, ...rest }: Props) => {\n  const reactFinalForm: ?FormApi = React.useContext(ReactFinalFormContext)\n  if (!reactFinalForm) {\n    throw new Error(\n      'Warning: FormSpy must be used inside of a ReactFinalForm component'\n    )\n  }\n  const state = useFormState({ onChange, subscription })\n  if (onChange) {\n    return null\n  }\n\n  const renderProps: FormSpyRenderProps = {\n    form: {\n      ...reactFinalForm,\n      reset: eventOrValues => {\n        if (isSyntheticEvent(eventOrValues)) {\n          // it's a React SyntheticEvent, call reset with no arguments\n          reactFinalForm.reset()\n        } else {\n          reactFinalForm.reset(eventOrValues)\n        }\n      }\n    }\n  }\n  return renderComponent(\n    {\n      ...rest,\n      ...state,\n      ...renderProps\n    },\n    'FormSpy'\n  )\n}\n\nexport default FormSpy\n"],"names":["renderComponent","props","name","render","children","component","rest","React","undefined","console","error","flattenSubscription","subscription","Object","keys","filter","key","map","sort","join","isReactNative","window","navigator","product","getSelectedValues","options","result","index","length","option","selected","push","value","getValue","event","currentValue","valueProp","nativeEvent","text","detypedEvent","target","type","checked","Array","isArray","concat","indexOf","slice","useForm","componentName","form","ReactFinalFormContext","Error","all","fieldSubscriptionItems","reduce","defaultFormat","defaultParse","useField","afterSubmit","allowNull","beforeSubmit","defaultValue","format","formatOnBlur","initialValue","isEqual","multiple","parse","validate","validateFields","_value","validateRef","current","beforeSubmitRef","register","callback","registerField","getValidator","firstRender","initialState","state","setState","formatted","change","flattenedSubscription","handlers","onBlur","blur","onChange","process","targetType","unknown","onFocus","focus","ignoreName","otherState","meta","active","data","dirty","dirtySinceLastSubmit","initial","invalid","modified","pristine","submitError","submitFailed","submitSucceeded","submitting","touched","valid","visited","input","renderProps","Field","field","useWhenValueChanges","a","b","previous","useRef","useEffect","useConstant","init","ref","shallowEqual","keysA","keysB","bHasOwnProperty","prototype","hasOwnProperty","bind","idx","isSyntheticEvent","candidate","stopPropagation","version","versions","ffVersion","formSubscriptionItems","ReactFinalForm","debug","decorators","destroyOnUnregister","initialValues","initialValuesEqual","keepDirtyOnReinitialize","mutators","onSubmit","validateOnBlur","config","f","createForm","pauseValidation","subscribe","isValidationPaused","resumeValidation","unsubscriptions","s","decorator","forEach","unsubscribe","setConfig","handleSubmit","preventDefault","submit","reset","eventOrValues","Provider","__versions","useFormState","newState","FormSpy","reactFinalForm"],"mappings":";;;;;;;;EAAe,SAAS,QAAQ,GAAG;EACnC,EAAE,QAAQ,GAAG,MAAM,CAAC,MAAM,IAAI,UAAU,MAAM,EAAE;EAChD,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;EAC/C,MAAM,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;;EAEhC,MAAM,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE;EAC9B,QAAQ,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE;EAC/D,UAAU,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;EACpC,SAAS;EACT,OAAO;EACP,KAAK;;EAEL,IAAI,OAAO,MAAM,CAAC;EAClB,GAAG,CAAC;;EAEJ,EAAE,OAAO,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;EACzC;;GAAC,DChBc,SAAS,6BAA6B,CAAC,MAAM,EAAE,QAAQ,EAAE;EACxE,EAAE,IAAI,MAAM,IAAI,IAAI,EAAE,OAAO,EAAE,CAAC;EAChC,EAAE,IAAI,MAAM,GAAG,EAAE,CAAC;EAClB,EAAE,IAAI,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;EACvC,EAAE,IAAI,GAAG,EAAE,CAAC,CAAC;;EAEb,EAAE,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;EAC1C,IAAI,GAAG,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;EACxB,IAAI,IAAI,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,SAAS;EAC7C,IAAI,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;EAC9B,GAAG;;EAEH,EAAE,OAAO,MAAM,CAAC;EAChB;;GAAC,DCTD;EACA;AACA,EAAe,SAASA,eAAT,CACbC,KADa,EAEbC,IAFa,EAGD;EAAA,MACJC,MADI,GACqCF,KADrC,CACJE,MADI;EAAA,MACIC,QADJ,GACqCH,KADrC,CACIG,QADJ;EAAA,MACcC,SADd,GACqCJ,KADrC,CACcI,SADd;EAAA,MAC4BC,IAD5B,iCACqCL,KADrC;;EAEZ,MAAII,SAAJ,EAAe;EACb,WAAOE,mBAAA,CAAoBF,SAApB,eAAoCC,IAApC;EAA0CF,MAAAA,QAAQ,EAARA,QAA1C;EAAoDD,MAAAA,MAAM,EAANA;EAApD,OAAP;EACD;;EACD,MAAIA,MAAJ,EAAY;EACV,WAAOA,MAAM,CAACC,QAAQ,KAAKI,SAAb,GAAyBF,IAAzB,gBAAqCA,IAArC;EAA2CF,MAAAA,QAAQ,EAARA;EAA3C,MAAD,CAAb,CADU;EAEX;;EACD,MAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC;EAClC;EACA,IAA2C;EACzCK,MAAAA,OAAO,CAACC,KAAR,wGACuGR,IADvG;EAGD;;EACD,WAAO,IAAP,CAPkC;EAQnC;;EACD,SAAOE,QAAQ,CAACE,IAAD,CAAf;EACD;;ECzBc,SAASK,mBAAT,CACbC,YADa,EAEL;EAAA,MADRA,YACQ;EADRA,IAAAA,YACQ,GADqB,EACrB;EAAA;;EACR,SAAOC,MAAM,CAACC,IAAP,CAAYF,YAAZ,EACJG,MADI,CACG,UAAAC,GAAG;EAAA,WAAIJ,YAAY,CAACI,GAAD,CAAZ,KAAsB,IAA1B;EAAA,GADN,EAEJC,GAFI,CAEA,UAAAD,GAAG;EAAA,WAAIA,GAAJ;EAAA,GAFH,EAGJE,IAHI,GAIJC,IAJI,CAIC,GAJD,CAAP;EAKD;;ECTD,IAAMC,aAAa,GACjB,OAAOC,MAAP,KAAkB,WAAlB,IACAA,MAAM,CAACC,SADP,IAEAD,MAAM,CAACC,SAAP,CAAiBC,OAFjB,IAGAF,MAAM,CAACC,SAAP,CAAiBC,OAAjB,KAA6B,aAJ/B;;ECAA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAAAC,OAAO,EAAI;EACnC,MAAMC,MAAM,GAAG,EAAf;;EACA,MAAID,OAAJ,EAAa;EACX,SAAK,IAAIE,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGF,OAAO,CAACG,MAApC,EAA4CD,KAAK,EAAjD,EAAqD;EACnD,UAAME,MAAM,GAAGJ,OAAO,CAACE,KAAD,CAAtB;;EACA,UAAIE,MAAM,CAACC,QAAX,EAAqB;EACnBJ,QAAAA,MAAM,CAACK,IAAP,CAAYF,MAAM,CAACG,KAAnB;EACD;EACF;EACF;;EACD,SAAON,MAAP;EACD,CAXD;;EAaA,IAAMO,QAAQ,GAAG,SAAXA,QAAW,CACfC,KADe,EAEfC,YAFe,EAGfC,SAHe,EAIfhB,aAJe,EAKZ;EACH,MACE,CAACA,aAAD,IACAc,KAAK,CAACG,WADN,IAECH,KAAK,CAACG,WAAP,CAA4BC,IAA5B,KAAqC9B,SAHvC,EAIE;EACA,WAAQ0B,KAAK,CAACG,WAAP,CAA4BC,IAAnC;EACD;;EACD,MAAIlB,aAAa,IAAIc,KAAK,CAACG,WAA3B,EAAwC;EACtC,WAAQH,KAAK,CAACG,WAAP,CAAyBC,IAAhC;EACD;;EACD,MAAMC,YAAiB,GAAGL,KAA1B;EAXG,6BAY0CK,YAZ1C,CAYKC,MAZL;EAAA,MAYeC,IAZf,wBAYeA,IAZf;EAAA,MAYqBT,KAZrB,wBAYqBA,KAZrB;EAAA,MAY4BU,OAZ5B,wBAY4BA,OAZ5B;;EAaH,UAAQD,IAAR;EACE,SAAK,UAAL;EACE,UAAIL,SAAS,KAAK5B,SAAlB,EAA6B;EAC3B;EACA,YAAIkC,OAAJ,EAAa;EACX;EACA,iBAAOC,KAAK,CAACC,OAAN,CAAcT,YAAd,IACHA,YAAY,CAACU,MAAb,CAAoBT,SAApB,CADG,GAEH,CAACA,SAAD,CAFJ;EAGD,SALD,MAKO;EACL;EACA,cAAI,CAACO,KAAK,CAACC,OAAN,CAAcT,YAAd,CAAL,EAAkC;EAChC,mBAAOA,YAAP;EACD;;EACD,cAAMR,KAAK,GAAGQ,YAAY,CAACW,OAAb,CAAqBV,SAArB,CAAd;;EACA,cAAIT,KAAK,GAAG,CAAZ,EAAe;EACb,mBAAOQ,YAAP;EACD,WAFD,MAEO;EACL,mBAAOA,YAAY,CAChBY,KADI,CACE,CADF,EACKpB,KADL,EAEJkB,MAFI,CAEGV,YAAY,CAACY,KAAb,CAAmBpB,KAAK,GAAG,CAA3B,CAFH,CAAP;EAGD;EACF;EACF,OArBD,MAqBO;EACL;EACA,eAAO,CAAC,CAACe,OAAT;EACD;;EACH,SAAK,iBAAL;EACE,aAAOlB,iBAAiB,CAAEU,KAAK,CAACM,MAAP,CAAoBf,OAArB,CAAxB;;EACF;EACE,aAAOO,KAAP;EA9BJ;EAgCD,CAlDD;;ACVA,8BAAezB,mBAAA,EAAf;;ECCA,IAAMyC,OAAO,GAAG,SAAVA,OAAU,CAACC,aAAD,EAAqC;EACnD,MAAMC,IAAc,GAAG3C,gBAAA,CAAiB4C,qBAAjB,CAAvB;;EACA,MAAI,CAACD,IAAL,EAAW;EACT,UAAM,IAAIE,KAAJ,gBACQH,aAAa,IACvB,SAFE,iDAAN;EAID;;EACD,SAAOC,IAAP;EACD,CATD;;ECKA,IAAMG,GAAsB,GAAGC,gCAAsB,CAACC,MAAvB,CAA8B,UAAC7B,MAAD,EAASV,GAAT,EAAiB;EAC5EU,EAAAA,MAAM,CAACV,GAAD,CAAN,GAAc,IAAd;EACA,SAAOU,MAAP;EACD,CAH8B,EAG5B,EAH4B,CAA/B;;EAKA,IAAM8B,aAAa,GAAG,SAAhBA,aAAgB,CAACxB,KAAD,EAAc9B,IAAd;EAAA,SACpB8B,KAAK,KAAKxB,SAAV,GAAsB,EAAtB,GAA2BwB,KADP;EAAA,CAAtB;;EAEA,IAAMyB,YAAY,GAAG,SAAfA,YAAe,CAACzB,KAAD,EAAc9B,IAAd;EAAA,SACnB8B,KAAK,KAAK,EAAV,GAAexB,SAAf,GAA2BwB,KADR;EAAA,CAArB;;EAGA,IAAM0B,QAAQ,GAAG,SAAXA,QAAW,CACfxD,IADe,SAoBM;EAAA,gCADD,EACC;EAAA,MAjBnByD,WAiBmB,QAjBnBA,WAiBmB;EAAA,MAhBnBC,SAgBmB,QAhBnBA,SAgBmB;EAAA,MAfnBC,YAemB,QAfnBA,YAemB;EAAA,MAdnBxD,SAcmB,QAdnBA,SAcmB;EAAA,MAbnByD,YAamB,QAbnBA,YAamB;EAAA,yBAZnBC,MAYmB;EAAA,MAZnBA,MAYmB,4BAZVP,aAYU;EAAA,MAXnBQ,YAWmB,QAXnBA,YAWmB;EAAA,MAVnBC,YAUmB,QAVnBA,YAUmB;EAAA,MATnBC,OASmB,QATnBA,OASmB;EAAA,MARnBC,QAQmB,QARnBA,QAQmB;EAAA,wBAPnBC,KAOmB;EAAA,MAPnBA,KAOmB,2BAPXX,YAOW;EAAA,+BANnB7C,YAMmB;EAAA,MANnBA,YAMmB,kCANJyC,GAMI;EAAA,MALnBZ,IAKmB,QALnBA,IAKmB;EAAA,MAJnB4B,QAImB,QAJnBA,QAImB;EAAA,MAHnBC,cAGmB,QAHnBA,cAGmB;EAAA,MAFZC,MAEY,QAFnBvC,KAEmB;;EACrB,MAAMkB,IAAa,GAAGF,OAAO,CAAC,UAAD,CAA7B,CADqB;;EAIrB,MAAMwB,WAAW,GAAGjE,YAAA,CAAa8D,QAAb,CAApB;EACA9D,EAAAA,eAAA,CAAgB,YAAM;EACpBiE,IAAAA,WAAW,CAACC,OAAZ,GAAsBJ,QAAtB;EACD,GAFD;EAIA,MAAMK,eAAe,GAAGnE,YAAA,EAAxB;;EACA,MAAMoE,QAAQ,GAAG,SAAXA,QAAW,CAACC,QAAD;EAAA,WACf1B,IAAI,CAAC2B,aAAL,CAAmB3E,IAAnB,EAAyB0E,QAAzB,EAAmChE,YAAnC,EAAiD;EAC/C+C,MAAAA,WAAW,EAAXA,WAD+C;EAE/CE,MAAAA,YAAY,EAAE;EAAA,eAAMa,eAAe,CAACD,OAAhB,IAA2BC,eAAe,CAACD,OAAhB,EAAjC;EAAA,OAFiC;EAG/CX,MAAAA,YAAY,EAAZA,YAH+C;EAI/CgB,MAAAA,YAAY,EAAE;EAAA,eAAMN,WAAW,CAACC,OAAlB;EAAA,OAJiC;EAK/CR,MAAAA,YAAY,EAAZA,YAL+C;EAM/CC,MAAAA,OAAO,EAAPA,OAN+C;EAO/CI,MAAAA,cAAc,EAAdA;EAP+C,KAAjD,CADe;EAAA,GAAjB;;EAWA,MAAMS,WAAW,GAAGxE,YAAA,CAAa,IAAb,CAApB,CArBqB;;EAAA,wBAwBKA,cAAA,CACxB,YAAkB;EAChB,QAAIyE,YAAwB,GAAG,EAA/B;EACAL,IAAAA,QAAQ,CAAC,UAAAM,KAAK,EAAI;EAChBD,MAAAA,YAAY,GAAGC,KAAf;EACD,KAFO,CAAR;EAGA,WAAOD,YAAP;EACD,GAPuB,CAxBL;EAAA,MAwBdC,KAxBc;EAAA,MAwBPC,QAxBO;;EAkCrBR,EAAAA,eAAe,CAACD,OAAhB,GAA0B,YAAM;EAC9B,QAAIV,MAAM,IAAIC,YAAd,EAA4B;EAC1B,UAAMmB,SAAS,GAAGpB,MAAM,CAACkB,KAAK,CAACjD,KAAP,EAAciD,KAAK,CAAC/E,IAApB,CAAxB;;EACA,UAAIiF,SAAS,KAAKF,KAAK,CAACjD,KAAxB,EAA+B;EAC7BiD,QAAAA,KAAK,CAACG,MAAN,CAAaD,SAAb;EACD;EACF;;EACD,WAAOtB,YAAY,IAAIA,YAAY,EAAnC;EACD,GARD,CAlCqB;;;EA6CrB,MAAMwB,qBAAqB,GAAG1E,mBAAmB,CAACC,YAAD,CAAjD;EACAL,EAAAA,eAAA,CACE;EAAA,WACEoE,QAAQ,CAAC,UAAAM,KAAK,EAAI;EAChB,UAAIF,WAAW,CAACN,OAAhB,EAAyB;EACvBM,QAAAA,WAAW,CAACN,OAAZ,GAAsB,KAAtB;EACD,OAFD,MAEO;EACLS,QAAAA,QAAQ,CAACD,KAAD,CAAR;EACD;EACF,KANO,CADV;EAAA,GADF;EAUE,GACE/E,IADF,EAEE4D,YAFF;EAIE;EACA;EACAG,EAAAA,YANF,EAOEC,OAPF,EAQEI,cARF;EAUEe,EAAAA,qBAVF,CAVF;EAwBA,MAAMC,QAAQ,GAAG;EACfC,IAAAA,MAAM,EAAEhF,iBAAA,CACN,UAAC2B,KAAD,EAAoC;EAClC+C,MAAAA,KAAK,CAACO,IAAN;;EACA,UAAIzB,MAAM,IAAIC,YAAd,EAA4B;EAC1BiB,QAAAA,KAAK,CAACG,MAAN,CAAarB,MAAM,CAACkB,KAAK,CAACjD,KAAP,EAAciD,KAAK,CAAC/E,IAApB,CAAnB;EACD;EACF,KANK;EAQN,KAAC+E,KAAK,CAAC/E,IAAP,EAAa+E,KAAK,CAACjD,KAAnB,EAA0B+B,MAA1B,EAAkCC,YAAlC,CARM,CADO;EAWfyB,IAAAA,QAAQ,EAAElF,iBAAA,CACR,UAAC2B,KAAD,EAAyC;EACvC;EACA,UAAIwD,AAAyCxD,KAAzC,IAAkDA,KAAK,CAACM,MAA5D,EAAoE;EAClE,YAAMmD,UAAU,GAAGzD,KAAK,CAACM,MAAN,CAAaC,IAAhC;EACA,YAAMmD,OAAO,GACX,CAAC,CAAC,UAAD,EAAa,OAAb,EAAsB,iBAAtB,EAAyC9C,OAAzC,CAAiD6C,UAAjD,CAAD,IACA,CAAClD,IAFH;;EAIA,YAAMT,OAAU,GACd2D,UAAU,KAAK,iBAAf,GAAmCV,KAAK,CAACjD,KAAzC,GAAiDuC,MADnD;;EAGA,YAAIqB,OAAJ,EAAa;EACXnF,UAAAA,OAAO,CAACC,KAAR,CACE,qCACEiF,UAAU,KAAK,iBAAf,GAAmC,QAAnC,GAA8CA,UADhD,gCAE0BzF,IAF1B,wFAIIyC,KAAK,CAACC,OAAN,CAAcZ,OAAd,UAA2BA,OAA3B,gBAA0CA,OAA1C,OAJJ,QADF;EAQD;EACF;;EAED,UAAMA,KAAU,GACdE,KAAK,IAAIA,KAAK,CAACM,MAAf,GACIP,QAAQ,CAACC,KAAD,EAAQ+C,KAAK,CAACjD,KAAd,EAAqBuC,MAArB,EAA6BnD,aAA7B,CADZ,GAEIc,KAHN;EAIA+C,MAAAA,KAAK,CAACG,MAAN,CAAahB,KAAK,GAAGA,KAAK,CAACpC,KAAD,EAAQ9B,IAAR,CAAR,GAAwB8B,KAA1C;EACD,KA7BO;EA+BR,KAACuC,MAAD,EAASrE,IAAT,EAAekE,KAAf,EAAsBa,KAAK,CAACG,MAA5B,EAAoCH,KAAK,CAACjD,KAA1C,EAAiDS,IAAjD,CA/BQ,CAXK;EA4CfoD,IAAAA,OAAO,EAAEtF,iBAAA,CAAkB,UAAC2B,KAAD,EAAoC;EAC7D+C,MAAAA,KAAK,CAACa,KAAN,GAD6D;EAG9D,KAHQ,EAGN,EAHM;EA5CM,GAAjB;;EAtEqB,MAwHfN,IAxHe,GAwHiDP,KAxHjD,CAwHfO,IAxHe;EAAA,MAwHTJ,MAxHS,GAwHiDH,KAxHjD,CAwHTG,MAxHS;EAAA,MAwHDU,KAxHC,GAwHiDb,KAxHjD,CAwHDa,KAxHC;EAAA,MAwHM9D,KAxHN,GAwHiDiD,KAxHjD,CAwHMjD,KAxHN;EAAA,MAwHmB+D,UAxHnB,GAwHiDd,KAxHjD,CAwHa/E,IAxHb;EAAA,MAwHkC8F,UAxHlC,iCAwHiDf,KAxHjD;;EAyHrB,MAAMgB,IAAI,GAAG;EACX;EACAC,IAAAA,MAAM,EAAEF,UAAU,CAACE,MAFR;EAGXC,IAAAA,IAAI,EAAEH,UAAU,CAACG,IAHN;EAIXC,IAAAA,KAAK,EAAEJ,UAAU,CAACI,KAJP;EAKXC,IAAAA,oBAAoB,EAAEL,UAAU,CAACK,oBALtB;EAMX3F,IAAAA,KAAK,EAAEsF,UAAU,CAACtF,KANP;EAOX4F,IAAAA,OAAO,EAAEN,UAAU,CAACM,OAPT;EAQXC,IAAAA,OAAO,EAAEP,UAAU,CAACO,OART;EASX3E,IAAAA,MAAM,EAAEoE,UAAU,CAACpE,MATR;EAUX4E,IAAAA,QAAQ,EAAER,UAAU,CAACQ,QAVV;EAWXC,IAAAA,QAAQ,EAAET,UAAU,CAACS,QAXV;EAYXC,IAAAA,WAAW,EAAEV,UAAU,CAACU,WAZb;EAaXC,IAAAA,YAAY,EAAEX,UAAU,CAACW,YAbd;EAcXC,IAAAA,eAAe,EAAEZ,UAAU,CAACY,eAdjB;EAeXC,IAAAA,UAAU,EAAEb,UAAU,CAACa,UAfZ;EAgBXC,IAAAA,OAAO,EAAEd,UAAU,CAACc,OAhBT;EAiBXC,IAAAA,KAAK,EAAEf,UAAU,CAACe,KAjBP;EAkBXC,IAAAA,OAAO,EAAEhB,UAAU,CAACgB;EAlBT,GAAb;;EAoBA,MAAIhD,YAAJ,EAAkB;EAChBhC,IAAAA,KAAK,GAAGwB,aAAa,CAACxB,KAAD,EAAQ9B,IAAR,CAArB;EACD,GAFD,MAEO,IAAI6D,MAAJ,EAAY;EACjB/B,IAAAA,KAAK,GAAG+B,MAAM,CAAC/B,KAAD,EAAQ9B,IAAR,CAAd;EACD;;EACD,MAAI8B,KAAK,KAAK,IAAV,IAAkB,CAAC4B,SAAvB,EAAkC;EAChC5B,IAAAA,KAAK,GAAG,EAAR;EACD;;EACD,MAAMiF,KAAsB;EAAK/G,IAAAA,IAAI,EAAJA,IAAL;EAAW8B,IAAAA,KAAK,EAALA,KAAX;EAAkBS,IAAAA,IAAI,EAAJA;EAAlB,KAA2B6C,QAA3B,CAA5B;;EACA,MAAI7C,IAAI,KAAK,UAAb,EAAyB;EACvB,QAAI8B,MAAM,KAAK/D,SAAf,EAA0B;EACxByG,MAAAA,KAAK,CAACvE,OAAN,GAAgB,CAAC,CAACV,KAAlB;EACD,KAFD,MAEO;EACLiF,MAAAA,KAAK,CAACvE,OAAN,GAAgB,CAAC,EAAEC,KAAK,CAACC,OAAN,CAAcZ,KAAd,KAAwB,CAACA,KAAK,CAACc,OAAN,CAAcyB,MAAd,CAA3B,CAAjB;EACA0C,MAAAA,KAAK,CAACjF,KAAN,GAAcuC,MAAd;EACD;EACF,GAPD,MAOO,IAAI9B,IAAI,KAAK,OAAb,EAAsB;EAC3BwE,IAAAA,KAAK,CAACvE,OAAN,GAAgBV,KAAK,KAAKuC,MAA1B;EACA0C,IAAAA,KAAK,CAACjF,KAAN,GAAcuC,MAAd;EACD,GAHM,MAGA,IAAIlE,SAAS,KAAK,QAAd,IAA0B8D,QAA9B,EAAwC;EAC7C8C,IAAAA,KAAK,CAACjF,KAAN,GAAciF,KAAK,CAACjF,KAAN,IAAe,EAA7B;EACAiF,IAAAA,KAAK,CAAC9C,QAAN,GAAiB,IAAjB;EACD;;EAED,MAAM+C,WAA6B,GAAG;EAAED,IAAAA,KAAK,EAALA,KAAF;EAAShB,IAAAA,IAAI,EAAJA,IAAT;;EAAA,GAAtC;EACA,SAAOiB,WAAP;EACD,CA3LD;;ECdA,IAAMC,KAAK,GAAG,SAARA,KAAQ,OAoBD;EAAA,MAnBXxD,WAmBW,QAnBXA,WAmBW;EAAA,MAlBXC,SAkBW,QAlBXA,SAkBW;EAAA,MAjBXC,YAiBW,QAjBXA,YAiBW;EAAA,MAhBXzD,QAgBW,QAhBXA,QAgBW;EAAA,MAfXC,SAeW,QAfXA,SAeW;EAAA,MAdXyD,YAcW,QAdXA,YAcW;EAAA,MAbXC,MAaW,QAbXA,MAaW;EAAA,MAZXC,YAYW,QAZXA,YAYW;EAAA,MAXXC,YAWW,QAXXA,YAWW;EAAA,MAVXC,OAUW,QAVXA,OAUW;EAAA,MATXC,QASW,QATXA,QASW;EAAA,MARXjE,IAQW,QARXA,IAQW;EAAA,MAPXkE,KAOW,QAPXA,KAOW;EAAA,MANXxD,YAMW,QANXA,YAMW;EAAA,MALX6B,IAKW,QALXA,IAKW;EAAA,MAJX4B,QAIW,QAJXA,QAIW;EAAA,MAHXC,cAGW,QAHXA,cAGW;EAAA,MAFXtC,KAEW,QAFXA,KAEW;EAAA,MADR1B,IACQ;;EACX,MAAM8G,KAAuB,GAAG1D,QAAQ,CAACxD,IAAD,EAAO;EAC7CyD,IAAAA,WAAW,EAAXA,WAD6C;EAE7CC,IAAAA,SAAS,EAATA,SAF6C;EAG7CC,IAAAA,YAAY,EAAZA,YAH6C;EAI7CzD,IAAAA,QAAQ,EAARA,QAJ6C;EAK7CC,IAAAA,SAAS,EAATA,SAL6C;EAM7CyD,IAAAA,YAAY,EAAZA,YAN6C;EAO7CC,IAAAA,MAAM,EAANA,MAP6C;EAQ7CC,IAAAA,YAAY,EAAZA,YAR6C;EAS7CC,IAAAA,YAAY,EAAZA,YAT6C;EAU7CC,IAAAA,OAAO,EAAPA,OAV6C;EAW7CC,IAAAA,QAAQ,EAARA,QAX6C;EAY7CC,IAAAA,KAAK,EAALA,KAZ6C;EAa7CxD,IAAAA,YAAY,EAAZA,YAb6C;EAc7C6B,IAAAA,IAAI,EAAJA,IAd6C;EAe7C4B,IAAAA,QAAQ,EAARA,QAf6C;EAgB7CC,IAAAA,cAAc,EAAdA,cAhB6C;EAiB7CtC,IAAAA,KAAK,EAALA;EAjB6C,GAAP,CAAxC;;EAoBA,MAAI,OAAO5B,QAAP,KAAoB,UAAxB,EAAoC;EAClC,WAAQA,QAAD,cAA0BgH,KAA1B,EAAoC9G,IAApC,EAAP;EACD;;EAED,MAAI,OAAOD,SAAP,KAAqB,QAAzB,EAAmC;EACjC;EACA,WAAOE,mBAAA,CAAoBF,SAApB,eAAoC+G,KAAK,CAACH,KAA1C;EAAiD7G,MAAAA,QAAQ,EAARA;EAAjD,OAA8DE,IAA9D,EAAP;EACD;;EACD,SAAON,eAAe,cACfoH,KADe;EACRhH,IAAAA,QAAQ,EAARA,QADQ;EACEC,IAAAA,SAAS,EAATA;EADF,KACgBC,IADhB,cAEXJ,IAFW,OAAtB;EAID,CArDD;;ECHe,SAASmH,mBAAT,CACbrF,KADa,EAEb4C,QAFa,EAGbV,OAHa,EAIb;EAAA,MADAA,OACA;EADAA,IAAAA,OACA,GADiC,iBAACoD,CAAD,EAAIC,CAAJ;EAAA,aAAUD,CAAC,KAAKC,CAAhB;EAAA,KACjC;EAAA;;EACA,MAAMC,QAAQ,GAAGjH,cAAK,CAACkH,MAAN,CAAazF,KAAb,CAAjB;EACAzB,EAAAA,cAAK,CAACmH,SAAN,CAAgB,YAAM;EACpB,QAAI,CAACxD,OAAO,CAAClC,KAAD,EAAQwF,QAAQ,CAAC/C,OAAjB,CAAZ,EAAuC;EACrCG,MAAAA,QAAQ;EACR4C,MAAAA,QAAQ,CAAC/C,OAAT,GAAmBzC,KAAnB;EACD;EACF,GALD;EAMD;;ECZD;;;;;;;;;;;;;AAYA,EAAe,SAAS2F,WAAT,CAAwBC,IAAxB,EAA0C;EACvD,MAAMC,GAAG,GAAGtH,cAAK,CAACkH,MAAN,EAAZ;;EACA,MAAI,CAACI,GAAG,CAACpD,OAAT,EAAkB;EAChBoD,IAAAA,GAAG,CAACpD,OAAJ,GAAcmD,IAAI,EAAlB;EACD;;EACD,SAAOC,GAAG,CAACpD,OAAX;EACD;;ECpBD,IAAMqD,YAAY,GAAG,SAAfA,YAAe,CAACR,CAAD,EAASC,CAAT,EAA6B;EAChD,MAAID,CAAC,KAAKC,CAAV,EAAa;EACX,WAAO,IAAP;EACD;;EACD,MAAI,OAAOD,CAAP,KAAa,QAAb,IAAyB,CAACA,CAA1B,IAA+B,OAAOC,CAAP,KAAa,QAA5C,IAAwD,CAACA,CAA7D,EAAgE;EAC9D,WAAO,KAAP;EACD;;EACD,MAAIQ,KAAK,GAAGlH,MAAM,CAACC,IAAP,CAAYwG,CAAZ,CAAZ;EACA,MAAIU,KAAK,GAAGnH,MAAM,CAACC,IAAP,CAAYyG,CAAZ,CAAZ;;EACA,MAAIQ,KAAK,CAACnG,MAAN,KAAiBoG,KAAK,CAACpG,MAA3B,EAAmC;EACjC,WAAO,KAAP;EACD;;EACD,MAAIqG,eAAe,GAAGpH,MAAM,CAACqH,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCb,CAArC,CAAtB;;EACA,OAAK,IAAIc,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGN,KAAK,CAACnG,MAA9B,EAAsCyG,GAAG,EAAzC,EAA6C;EAC3C,QAAIrH,GAAG,GAAG+G,KAAK,CAACM,GAAD,CAAf;;EACA,QAAI,CAACJ,eAAe,CAACjH,GAAD,CAAhB,IAAyBsG,CAAC,CAACtG,GAAD,CAAD,KAAWuG,CAAC,CAACvG,GAAD,CAAzC,EAAgD;EAC9C,aAAO,KAAP;EACD;EACF;;EACD,SAAO,IAAP;EACD,CApBD;;ECAA,IAAMsH,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,SAAD;EAAA,SACvB,CAAC,EAAEA,SAAS,IAAI,OAAOA,SAAS,CAACC,eAAjB,KAAqC,UAApD,CADsB;EAAA,CAAzB;;MCuBaC,OAAO,GAAG,OAAhB;EAEP,IAAMC,QAAQ,GAAG;EACf,gBAAcC,iBADC;EAEf,sBAAoBF;EAFL,CAAjB;AAKA,EAAO,IAAMpF,KAAqB,GAAGuF,+BAAqB,CAACrF,MAAtB,CACnC,UAAC7B,MAAD,EAASV,GAAT,EAAiB;EACfU,EAAAA,MAAM,CAACV,GAAD,CAAN,GAAc,IAAd;EACA,SAAOU,MAAP;EACD,CAJkC,EAKnC,EALmC,CAA9B;;EAQP,IAAMmH,cAAc,GAAG,SAAjBA,cAAiB,OAaV;EAAA,MAZXC,KAYW,QAZXA,KAYW;EAAA,MAXXC,UAWW,QAXXA,UAWW;EAAA,MAVXC,mBAUW,QAVXA,mBAUW;EAAA,MATXC,aASW,QATXA,aASW;EAAA,MARXC,kBAQW,QARXA,kBAQW;EAAA,MAPXC,uBAOW,QAPXA,uBAOW;EAAA,MANXC,QAMW,QANXA,QAMW;EAAA,MALXC,QAKW,QALXA,QAKW;EAAA,+BAJXzI,YAIW;EAAA,MAJXA,YAIW,kCAJIyC,KAIJ;EAAA,MAHXgB,QAGW,QAHXA,QAGW;EAAA,MAFXiF,cAEW,QAFXA,cAEW;EAAA,MADRhJ,IACQ;;EACX,MAAMiJ,MAAc,GAAG;EACrBT,IAAAA,KAAK,EAALA,KADqB;EAErBE,IAAAA,mBAAmB,EAAnBA,mBAFqB;EAGrBC,IAAAA,aAAa,EAAbA,aAHqB;EAIrBE,IAAAA,uBAAuB,EAAvBA,uBAJqB;EAKrBC,IAAAA,QAAQ,EAARA,QALqB;EAMrBC,IAAAA,QAAQ,EAARA,QANqB;EAOrBhF,IAAAA,QAAQ,EAARA,QAPqB;EAQrBiF,IAAAA,cAAc,EAAdA;EARqB,GAAvB;EAWA,MAAMpG,IAAa,GAAGyE,WAAW,CAAC,YAAM;EACtC,QAAM6B,CAAC,GAAGC,oBAAU,CAACF,MAAD,CAApB;EACAC,IAAAA,CAAC,CAACE,eAAF;EACA,WAAOF,CAAP;EACD,GAJgC,CAAjC,CAZW;;EAAA,wBAmBejJ,cAAA,CACxB,YAAiB;EACf,QAAIyE,YAAuB,GAAG,EAA9B;EACA9B,IAAAA,IAAI,CAACyG,SAAL,CAAe,UAAA1E,KAAK,EAAI;EACtBD,MAAAA,YAAY,GAAGC,KAAf;EACD,KAFD,EAEGrE,YAFH;EAGA,WAAOoE,YAAP;EACD,GAPuB,CAnBf;EAAA,MAmBJC,KAnBI;EAAA,MAmBGC,QAnBH;;;EA8BX,MAAMG,qBAAqB,GAAG1E,mBAAmB,CAACC,YAAD,CAAjD;EACAL,EAAAA,eAAA,CAAgB,YAAM;EACpB;EACA2C,IAAAA,IAAI,CAAC0G,kBAAL,MAA6B1G,IAAI,CAAC2G,gBAAL,EAA7B;EACA,QAAMC,eAA8B,IAClC5G,IAAI,CAACyG,SAAL,CAAe,UAAAI,CAAC,EAAI;EAClB,UAAI,CAACjC,YAAY,CAACiC,CAAD,EAAI9E,KAAJ,CAAjB,EAA6B;EAC3BC,QAAAA,QAAQ,CAAC6E,CAAD,CAAR;EACD;EACF,KAJD,EAIGnJ,YAJH,CADkC,SAM9BmI,UAAU,GACVA,UAAU,CAAC9H,GAAX,CAAe,UAAA+I,SAAS;EAAA;EAEtB;EACAA,QAAAA,SAAS,CAAC9G,IAAD;EAHa;EAAA,KAAxB,CADU,GAMV,EAZ8B,CAApC;EAeA,WAAO,YAAM;EACX4G,MAAAA,eAAe,CAACG,OAAhB,CAAwB,UAAAC,WAAW;EAAA,eAAIA,WAAW,EAAf;EAAA,OAAnC;EACD,KAFD,CAlBoB;EAsBrB,GAtBD,EAsBG,CAACnB,UAAD,EAAa1D,qBAAb,CAtBH,EA/BW;EAwDX;;EACA,EAA2C;EACzC;EACA;EACA;EAEA;EACAgC,IAAAA,mBAAmB,CACjB0B,UADiB,EAEjB,YAAM;EACJtI,MAAAA,OAAO,CAACC,KAAR,CACE,sGADF;EAGD,KANgB,EAOjBoH,YAPiB,CAAnB;EASD,GAxEU;;;EA2EXT,EAAAA,mBAAmB,CAACyB,KAAD,EAAQ,YAAM;EAC/B5F,IAAAA,IAAI,CAACiH,SAAL,CAAe,OAAf,EAAwBrB,KAAxB;EACD,GAFkB,CAAnB;EAGAzB,EAAAA,mBAAmB,CAAC2B,mBAAD,EAAsB,YAAM;EAC7C9F,IAAAA,IAAI,CAACiH,SAAL,CAAe,qBAAf,EAAsCnB,mBAAtC;EACD,GAFkB,CAAnB;EAGA3B,EAAAA,mBAAmB,CACjB4B,aADiB,EAEjB,YAAM;EACJ/F,IAAAA,IAAI,CAACiH,SAAL,CAAe,eAAf,EAAgClB,aAAhC;EACD,GAJgB,EAKjBC,kBAAkB,IAAIpB,YALL,CAAnB;EAOAT,EAAAA,mBAAmB,CAAC8B,uBAAD,EAA0B,YAAM;EACjDjG,IAAAA,IAAI,CAACiH,SAAL,CAAe,yBAAf,EAA0ChB,uBAA1C;EACD,GAFkB,CAAnB;EAGA9B,EAAAA,mBAAmB,CAAC+B,QAAD,EAAW,YAAM;EAClClG,IAAAA,IAAI,CAACiH,SAAL,CAAe,UAAf,EAA2Bf,QAA3B;EACD,GAFkB,CAAnB;EAGA/B,EAAAA,mBAAmB,CAACgC,QAAD,EAAW,YAAM;EAClCnG,IAAAA,IAAI,CAACiH,SAAL,CAAe,UAAf,EAA2Bd,QAA3B;EACD,GAFkB,CAAnB;EAGAhC,EAAAA,mBAAmB,CAAChD,QAAD,EAAW,YAAM;EAClCnB,IAAAA,IAAI,CAACiH,SAAL,CAAe,UAAf,EAA2B9F,QAA3B;EACD,GAFkB,CAAnB;EAGAgD,EAAAA,mBAAmB,CAACiC,cAAD,EAAiB,YAAM;EACxCpG,IAAAA,IAAI,CAACiH,SAAL,CAAe,gBAAf,EAAiCb,cAAjC;EACD,GAFkB,CAAnB;;EAIA,MAAMc,YAAY,GAAG,SAAfA,YAAe,CAAClI,KAAD,EAA6C;EAChE,QAAIA,KAAJ,EAAW;EACT;EACA,UAAI,OAAOA,KAAK,CAACmI,cAAb,KAAgC,UAApC,EAAgD;EAC9CnI,QAAAA,KAAK,CAACmI,cAAN;EACD;;EACD,UAAI,OAAOnI,KAAK,CAACsG,eAAb,KAAiC,UAArC,EAAiD;EAC/C;EACAtG,QAAAA,KAAK,CAACsG,eAAN;EACD;EACF;;EACD,WAAOtF,IAAI,CAACoH,MAAL,EAAP;EACD,GAZD;;EAcA,MAAMpD,WAA4B,gBAE7BjC,KAF6B;EAGhC/B,IAAAA,IAAI,eACCA,IADD;EAEFqH,MAAAA,KAAK,EAAE,eAAAC,aAAa,EAAI;EACtB,YAAIlC,gBAAgB,CAACkC,aAAD,CAApB,EAAqC;EACnC;EACAtH,UAAAA,IAAI,CAACqH,KAAL;EACD,SAHD,MAGO;EACLrH,UAAAA,IAAI,CAACqH,KAAL,CAAWC,aAAX;EACD;EACF;EATC,MAH4B;EAchCJ,IAAAA,YAAY,EAAZA;EAdgC,IAAlC;;EAgBA,SAAO7J,mBAAA,CACL4C,qBAAqB,CAACsH,QADjB,EAEL;EAAEzI,IAAAA,KAAK,EAAEkB;EAAT,GAFK,EAGLlD,eAAe,cAERM,IAFQ,EAGR4G,WAHQ;EAIXwD,IAAAA,UAAU,EAAEhC;EAJD,MAMb,gBANa,CAHV,CAAP;EAYD,CA/JD;;EC/BA,IAAMiC,YAAY,GAAG,SAAfA,YAAe,QAGqB;EAAA,gCAAlB,EAAkB;EAAA,MAFxClF,QAEwC,QAFxCA,QAEwC;EAAA,+BADxC7E,YACwC;EAAA,MADxCA,YACwC,kCADzByC,KACyB;;EACxC,MAAMH,IAAa,GAAGF,OAAO,CAAC,cAAD,CAA7B;EACA,MAAM+B,WAAW,GAAGxE,YAAA,CAAa,IAAb,CAApB,CAFwC;;EAAA,wBAKdA,cAAA,CACxB,YAAiB;EACf,QAAIyE,YAAuB,GAAG,EAA9B;EACA9B,IAAAA,IAAI,CAACyG,SAAL,CAAe,UAAA1E,KAAK,EAAI;EACtBD,MAAAA,YAAY,GAAGC,KAAf;EACD,KAFD,EAEGrE,YAFH;;EAGA,QAAI6E,QAAJ,EAAc;EACZA,MAAAA,QAAQ,CAACT,YAAD,CAAR;EACD;;EACD,WAAOA,YAAP;EACD,GAVuB,CALc;EAAA,MAKjCC,KALiC;EAAA,MAK1BC,QAL0B;;;EAmBxC,MAAMG,qBAAqB,GAAG1E,mBAAmB,CAACC,YAAD,CAAjD;EACAL,EAAAA,eAAA,CACE;EAAA,WACE2C,IAAI,CAACyG,SAAL,CAAe,UAAAiB,QAAQ,EAAI;EACzB,UAAI7F,WAAW,CAACN,OAAhB,EAAyB;EACvBM,QAAAA,WAAW,CAACN,OAAZ,GAAsB,KAAtB;EACD,OAFD,MAEO;EACLS,QAAAA,QAAQ,CAAC0F,QAAD,CAAR;;EACA,YAAInF,QAAJ,EAAc;EACZA,UAAAA,QAAQ,CAACmF,QAAD,CAAR;EACD;EACF;EACF,KATD,EASGhK,YATH,CADF;EAAA,GADF;EAaE,GAACyE,qBAAD,CAbF;EAeA,SAAOJ,KAAP;EACD,CAvCD;;ECCA,IAAM4F,OAAO,GAAG,SAAVA,OAAU,OAAgD;EAAA,MAA7CpF,QAA6C,QAA7CA,QAA6C;EAAA,MAAnC7E,YAAmC,QAAnCA,YAAmC;EAAA,MAAlBN,IAAkB;;EAC9D,MAAMwK,cAAwB,GAAGvK,gBAAA,CAAiB4C,qBAAjB,CAAjC;;EACA,MAAI,CAAC2H,cAAL,EAAqB;EACnB,UAAM,IAAI1H,KAAJ,CACJ,oEADI,CAAN;EAGD;;EACD,MAAM6B,KAAK,GAAG0F,YAAY,CAAC;EAAElF,IAAAA,QAAQ,EAARA,QAAF;EAAY7E,IAAAA,YAAY,EAAZA;EAAZ,GAAD,CAA1B;;EACA,MAAI6E,QAAJ,EAAc;EACZ,WAAO,IAAP;EACD;;EAED,MAAMyB,WAA+B,GAAG;EACtChE,IAAAA,IAAI,eACC4H,cADD;EAEFP,MAAAA,KAAK,EAAE,eAAAC,aAAa,EAAI;EACtB,YAAIlC,gBAAgB,CAACkC,aAAD,CAApB,EAAqC;EACnC;EACAM,UAAAA,cAAc,CAACP,KAAf;EACD,SAHD,MAGO;EACLO,UAAAA,cAAc,CAACP,KAAf,CAAqBC,aAArB;EACD;EACF;EATC;EADkC,GAAxC;EAaA,SAAOxK,eAAe,cAEfM,IAFe,EAGf2E,KAHe,EAIfiC,WAJe,GAMpB,SANoB,CAAtB;EAQD,CAjCD;;;;;;;;;;;;;;;;;;;;"}